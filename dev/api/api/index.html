<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Documentation · ADoSnipsTemplate</title><link rel="canonical" href="https://andreasdominik.github.io/ADoSnipsTemplate/dev/api/api/index.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../index.html"><img class="logo" src="../../assets/logo.svg" alt="ADoSnipsTemplate logo"/></a><h1>ADoSnipsTemplate</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Introduction</a></li><li><a class="toctext" href="../../snipsHermesQnD/">SnipsHermesQnD</a></li><li><a class="toctext" href="../../makeskill/">New skill tutorial</a></li><li class="current"><a class="toctext" href>API Documentation</a><ul class="internal"><li><a class="toctext" href="#Hermes-functions-1">Hermes functions</a></li><li><a class="toctext" href="#Dialogue-manager-functions-1">Dialogue manager functions</a></li><li><a class="toctext" href="#config.ini-functions-1">config.ini functions</a></li><li><a class="toctext" href="#Slot-access-functions-1">Slot access functions</a></li><li><a class="toctext" href="#MQTT-functions-1">MQTT functions</a></li><li><a class="toctext" href="#Utility-functions-1">Utility functions</a></li><li><a class="toctext" href="#Index-1">Index</a></li></ul></li><li><a class="toctext" href="../../LICENSE/">License</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>API Documentation</a></li></ul><a class="edit-page" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/master/docs/src/api/api.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>API Documentation</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="API-documentation-1" href="#API-documentation-1">API documentation</a></h1><h2><a class="nav-anchor" id="Hermes-functions-1" href="#Hermes-functions-1">Hermes functions</a></h2><p>These functions publish and subscribe to Hermes MQTT-topics.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.subscribe2Intents" href="#Main.SnipsHermesQnD.subscribe2Intents"><code>Main.SnipsHermesQnD.subscribe2Intents</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">subscribe2Intents(intents, callback; moreTopics = nothing)</code></pre><p>Subscribe to one or a list of Intents and listen forever and run the callback if a matching intent is recieved.</p><p><strong>Arguments:</strong></p><ul><li><code>intents</code>: Abstract String or List of Abstract Strings to define          intents to subscribe. The intents will be expanded          to topics (i.e. &quot;hermes/intent/SwitchOnLight&quot;)</li><li><code>callback</code>: Function to be executed for a incoming message</li><li><code>moreTopics</code>: keyword arg to provide additional topics to subscribe           (complete names of of topics).</li></ul><p><strong>Details:</strong></p><p>The callback function has the signature f(topic, intentMessage), where topic is a String and intentMessage a Dict{Symbol, Any} with the content of the payload (assuming, that the payload is in JSON-format) or a String, if the payload is not valid JSON. The callback function is not spawned, but executed in the current thread. As a result the function is not listening during execution of the callback.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/hermes.jl#L9-L31">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishStartSessionAction" href="#Main.SnipsHermesQnD.publishStartSessionAction"><code>Main.SnipsHermesQnD.publishStartSessionAction</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishStartSessionAction(text; siteId = CURRENT_SITE_ID,
     intentFilter = nothing, sendIntentNotRecognized = false,
     customData = nothing)</code></pre><p>MQTT publish start session with init action</p><p><strong>Arguments:</strong></p><ul><li><code>siteId</code>: ID of the session to be terminated as String</li><li><code>text</code>: text to be said via TTS</li><li><code>intentFilter</code>: Optional Array of String - A list of intents names to               restrict the NLU resolution on the answer of this query.</li><li><code>sendIntentNotRecognized</code>: Optional Boolean -  Indicates whether the               dialogue manager should handle non recognized intents               by itself or sent them as an Intent Not Recognized for               the client to handle.</li><li><code>customData</code>: data to be sent to the service.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/hermes.jl#L203-L220">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishStartSessionNotification" href="#Main.SnipsHermesQnD.publishStartSessionNotification"><code>Main.SnipsHermesQnD.publishStartSessionNotification</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishStartSessionNotification(text; siteId = CURRENT_SITE_ID,
                                customData = nothing)</code></pre><p>MQTT publish start session with init notification</p><p><strong>Arguments:</strong></p><ul><li><code>siteId</code>: ID of the session to be terminated as String</li><li><code>text</code>: text to be said via TTS</li><li><code>customData</code>: data to be sent to the service.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/hermes.jl#L243-L253">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishEndSession" href="#Main.SnipsHermesQnD.publishEndSession"><code>Main.SnipsHermesQnD.publishEndSession</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishEndSession(text; sessionId = CURRENT_SESSION_ID)</code></pre><p>MQTT publish end session.</p><p><strong>Arguments:</strong></p><ul><li><code>sessionId</code>: ID of the session to be terminated as String            If omiited, sessionId of the current will be inserted.</li><li><code>text</code>: text to be said via TTS</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/hermes.jl#L140-L149">source</a></section><h2><a class="nav-anchor" id="Dialogue-manager-functions-1" href="#Dialogue-manager-functions-1">Dialogue manager functions</a></h2><p>In addition to functions to work with the dialogue manager advanced direct dialogues are provided that can be included in the control flow of the program.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishContinueSession" href="#Main.SnipsHermesQnD.publishContinueSession"><code>Main.SnipsHermesQnD.publishContinueSession</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishContinueSession(text; sessionId = CURRENT_SESSION_ID,
     intentFilter = nothing,
     customData = nothing, sendIntentNotRecognized = false)</code></pre><p>MQTT publish continue session.</p><p><strong>Arguments:</strong></p><ul><li><code>sessionId</code>: ID of the session to be terminated as String</li><li><code>text</code>: text to be said via TTS</li><li><code>intentFilter</code>: Optional Array of String - A list of intents names to               restrict the NLU resolution on the answer of this query.</li><li><code>customData</code>: Optional String - an update to the session&#39;s custom data.</li><li><code>sendIntentNotRecognized</code>: Optional Boolean -  Indicates whether the               dialogue manager should handle non recognized intents               by itself or sent them as an Intent Not Recognized for               the client to handle.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/hermes.jl#L162-L179">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.listenIntentsOneTime" href="#Main.SnipsHermesQnD.listenIntentsOneTime"><code>Main.SnipsHermesQnD.listenIntentsOneTime</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">listenIntentsOneTime(intents; moreTopics = nothing)</code></pre><p>Subscribe to one or a list of Intents, but listen only until one matching intent is recognised.</p><p><strong>Arguments</strong></p><ul><li><code>intents</code>: Abstract String or List of Abtsract Strings to define          intents to subscribe or nothing</li><li><code>moreTopics</code>: keyword arg to provide additional topics to subscribe,</li></ul><p><strong>Value:</strong></p><p>Return values are topic (as String) and payload (as Dict or as String if JSON parsing is not possible). If the topic is an intent, only the intent id is returned (i.e.: devname:intentname without the leading hermes/intent/)</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/hermes.jl#L41-L57">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.configureIntent" href="#Main.SnipsHermesQnD.configureIntent"><code>Main.SnipsHermesQnD.configureIntent</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">configureIntent(intent, on)</code></pre><p>Enable or disable an intent.</p><p><strong>Arguments:</strong></p><ul><li><code>intent</code>: one intent to be configured</li><li><code>on</code>: boolean value; if <code>true</code>, the intent is enabled; if <code>false</code> it is disabled.</li></ul><pre><code class="language-none"></code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/hermes.jl#L395-L404">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.askYesOrNoOrUnknown" href="#Main.SnipsHermesQnD.askYesOrNoOrUnknown"><code>Main.SnipsHermesQnD.askYesOrNoOrUnknown</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">askYesOrNoOrUnknown(question)</code></pre><p>Ask the question and listen to the intent &quot;ADoSnipsYesNoDE&quot; and return :yes if &quot;Yes&quot; is answered or :no if &quot;No&quot; or :unknown otherwise.</p><p><strong>Arguments:</strong></p><ul><li><code>question</code>: String with the question to be uttered by Snips</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/hermes.jl#L79-L88">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.askYesOrNo" href="#Main.SnipsHermesQnD.askYesOrNo"><code>Main.SnipsHermesQnD.askYesOrNo</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">askYesOrNo(question)</code></pre><p>Ask the question and listen to the intent &quot;ADoSnipsYesNoDE&quot; and return :true if &quot;Yes&quot; or &quot;No&quot; otherwise.</p><p><strong>Arguments:</strong></p><ul><li><code>question</code>: String with the question to uttered</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/hermes.jl#L123-L131">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishSay" href="#Main.SnipsHermesQnD.publishSay"><code>Main.SnipsHermesQnD.publishSay</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishSay(text; sessionId = CURRENT_SESSION_ID,
                lang = nothing, id = nothing, wait = true)</code></pre><p>Let the TTS say something.</p><p><strong>Arguments:</strong></p><ul><li><code>text</code>: text to be said vie TTS</li><li><code>lang</code>: Optional language code to use when saying the text.       If nothing is provided, <code>en</code> will be used</li><li><code>sessionId</code>: optional ID of the session if there is one</li><li><code>id</code>: optional A request identifier. If provided, it will be passed back     in the response on hermes/tts/sayFinished.</li><li><code>wait</code>: wait until the massege is spoken (i.i. wait for the       MQTT-topic)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/hermes.jl#L290-L305">source</a></section><h2><a class="nav-anchor" id="config.ini-functions-1" href="#config.ini-functions-1">config.ini functions</a></h2><p>Helper functions for read values from the file <code>config.ini</code>.</p><p><code>config.ini</code> files follow the normal rules as for all Snips apps, with one extension:</p><ul><li>no spaces around the <code>=</code></li><li>if value of the parameter (right side) includes commas, the value can be interpreted as a comma-separated list of values. In this case, the reader-function will return an array of Strings with the values (which an be accessed by their index).</li></ul><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.readConfig" href="#Main.SnipsHermesQnD.readConfig"><code>Main.SnipsHermesQnD.readConfig</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">readConfig(appDir)</code></pre><p>Read the lines of the App&#39;s config file and return a Dict with config values.</p><p><strong>Arguments:</strong></p><ul><li><code>appDir</code>: Directory of the currently running app.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/config.jl#L4-L12">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.matchConfig" href="#Main.SnipsHermesQnD.matchConfig"><code>Main.SnipsHermesQnD.matchConfig</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">matchConfig(name::Symbol, val::String)</code></pre><p>Return true if the parameter with name <code>name</code> of the config.ini has the value val or one element of the list as the value val.</p><p><strong>Arguments:</strong></p><ul><li><code>name</code>: name of the config parameter as Symbol</li><li><code>val</code>: desired value</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/config.jl#L47-L56">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getConfig" href="#Main.SnipsHermesQnD.getConfig"><code>Main.SnipsHermesQnD.getConfig</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getConfig(name)</code></pre><p>Return the parameter value of the config.ini with name or nothing if the param does not exist. Return value is of type <code>AbstractString</code>, if it is a single value or of type <code>AbstractArray{AbstractString}</code> if the a list of values is read.</p><p><strong>Arguments:</strong></p><ul><li><code>name</code>: name of the config parameter as Symbol or String</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/config.jl#L74-L85">source</a></section><div class="admonition warning"><div class="admonition-title">Missing docstring.</div><div class="admonition-text"><p>Missing docstring for <code>isinConfig</code>. Check Documenter&#39;s build log for details.</p></div></div><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getAllConfig" href="#Main.SnipsHermesQnD.getAllConfig"><code>Main.SnipsHermesQnD.getAllConfig</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getAllConfig()</code></pre><p>Return a Dict with the complete <code>config.ini</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/config.jl#L107-L111">source</a></section><h2><a class="nav-anchor" id="Slot-access-functions-1" href="#Slot-access-functions-1">Slot access functions</a></h2><p>Functions to read values from slots of recognised intents.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.extractSlotValue" href="#Main.SnipsHermesQnD.extractSlotValue"><code>Main.SnipsHermesQnD.extractSlotValue</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">extractSlotValue(payload, slotName; multiple = false)</code></pre><p>Return the value of a slot.</p><p>Nothing is returned, if</p><ul><li>no slots in payload,</li><li>no slots with name slotName in payload,</li><li>no values in slot slotName.</li></ul><p>If multiple == <code>true</code>, a list of all slot values will be returned. If false, only the 1st one as String.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/utils.jl#L31-L43">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.isInSlot" href="#Main.SnipsHermesQnD.isInSlot"><code>Main.SnipsHermesQnD.isInSlot</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isInSlot(payload, slotName, value)</code></pre><p>Return <code>true</code>, if the value is present in the slot slotName of the JSON payload (i.e. one of the slot values must match). Return <code>false</code> if something is wrong (value not in payload or no slots slotName.)</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/utils.jl#L69-L76">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.isOnOffMatched" href="#Main.SnipsHermesQnD.isOnOffMatched"><code>Main.SnipsHermesQnD.isOnOffMatched</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isOnOffMatched(payload, deviceName; siteId = CURRENT_SITE_ID)</code></pre><p>Action to be combined with the ADoSnipsOnOFF intent. Depending on the payload the function returns:</p><ul><li>:on if &quot;on&quot;</li><li>:off if &quot;off&quot;</li><li>:matched, if the device is matched but no on or off</li><li>:unmatched, if one of<ul><li>wrong siteId</li><li>wrong device</li></ul></li></ul><p><strong>Arguments:</strong></p><ul><li><code>payload</code>: payload of intent</li><li><code>siteId</code>: siteId of the device to be matched with the payload of intent</li><li><code>deviceName</code> : name of device to be matched with the payload of intent</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/hermes.jl#L347-L362">source</a></section><h2><a class="nav-anchor" id="MQTT-functions-1" href="#MQTT-functions-1">MQTT functions</a></h2><p>Low-level API to MQTT messages (publish and subscribe). In the QuickAndDirty framework, these functions are calling Eclipse <code>mosquitto_pub</code> and <code>mosquitto_sub</code>. However this first (and preliminary) implementation is surpriningly robust and easy to maintain - it seems there is no need to change.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.subscribeMQTT" href="#Main.SnipsHermesQnD.subscribeMQTT"><code>Main.SnipsHermesQnD.subscribeMQTT</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">subscribeMQTT(topics, callback; hostname = nothing, port = nothing)

Listen to one or more topics.</code></pre><p><strong>Arguments</strong></p><ul><li><code>topics</code>: Abstract String or List of Abtsract Strings to define         topics to subscribe</li><li><code>callback</code>: Function to be executed for a incoming message.</li><li><code>hostname</code>:</li><li><code>port</code>:     Hostname and port to listen. If not specified           mosquitto_sub will be called without hostname/port           (use the default configuration of the system).</li></ul><p><strong>Details:</strong></p><p>The callback function has the signature f(topic, payload), where topic is a String and payload a Dict{Symbol, Any} with the content of the payload (assuming, that the payload is in JSON-formate) or a String, if the payload is not valid JSON.</p><p>The callback function is not spawned, but executed in the current thread. As a result the function is not listening during execution of the callback.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/mqtt.jl#L8-L31">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.readOneMQTT" href="#Main.SnipsHermesQnD.readOneMQTT"><code>Main.SnipsHermesQnD.readOneMQTT</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">readOneMQTT(topics; hostname = nothing, port = nothing)</code></pre><p>Listen to one or more topics until one message is retrieved and return topic as string and payload as Dict or as String if JSON parsing is not possible).</p><p><strong>Arguments</strong></p><ul><li><code>topics</code>: Abstract String or List of Abtsract Strings to define         topics to subscribe</li><li><code>hostname</code>:</li><li><code>port</code>:     Hostname and port to listen. If not specified           mosquitto_sub will be called without hostname/port           (use the default configuration of the system).</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/mqtt.jl#L51-L65">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.publishMQTT" href="#Main.SnipsHermesQnD.publishMQTT"><code>Main.SnipsHermesQnD.publishMQTT</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">publishMQTT(topic, payload, hostname = nothing, port = nothing)</code></pre><p>Publishe a MQTT message.</p><p><strong>Arguments</strong></p><ul><li><code>topics</code>: String with the topic</li><li><code>payload</code>: Dict() with message</li><li><code>hostname</code>:</li><li><code>port</code>:     Hostname and port to use. If not specified           mosquitto_sub will be called without hostname/port           (use the default configuration of the system).</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/mqtt.jl#L163-L175">source</a></section><h2><a class="nav-anchor" id="Utility-functions-1" href="#Utility-functions-1">Utility functions</a></h2><p>Little helpers to provide functionality whichis commonly needed when develloping a skill.</p><h3><a class="nav-anchor" id="Handle-siteId-from-recognised-intent-1" href="#Handle-siteId-from-recognised-intent-1">Handle siteId from recognised intent</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setSiteId" href="#Main.SnipsHermesQnD.setSiteId"><code>Main.SnipsHermesQnD.setSiteId</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setSiteId(siteId)</code></pre><p>Set the siteId in the Module SnipsHermesQnD (necessary to direct the say() output to the current room)</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/snips.jl#L110-L115">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.getSiteId" href="#Main.SnipsHermesQnD.getSiteId"><code>Main.SnipsHermesQnD.getSiteId</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getSiteId()</code></pre><p>Return the siteId in the Module SnipsHermesQnD (necessary to direct the say() output to the current room)</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/snips.jl#L121-L126">source</a></section><h3><a class="nav-anchor" id="Other-Utils-1" href="#Other-Utils-1">Other Utils</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setLanguage" href="#Main.SnipsHermesQnD.setLanguage"><code>Main.SnipsHermesQnD.setLanguage</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setLanguage(lang)</code></pre><p>Set the default language for SnipsHermesQnD.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/utils.jl#L132-L136">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.tryrun" href="#Main.SnipsHermesQnD.tryrun"><code>Main.SnipsHermesQnD.tryrun</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">tryrun(cmd; wait = true, errorMsg = TEXTS[:error_script])</code></pre><p>Try to run an external command and returns true if successful or false if not.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/utils.jl#L87-L92">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.tryReadTextfile" href="#Main.SnipsHermesQnD.tryReadTextfile"><code>Main.SnipsHermesQnD.tryReadTextfile</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">tryReadTextfile(fname, errMsg = TEXTS[:error_read])</code></pre><p>Try to read a text file from file system and return the text as <code>String</code> or an <code>String</code> of length 0, if something went wrong.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/utils.jl#L108-L114">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.tryParseJSONfile" href="#Main.SnipsHermesQnD.tryParseJSONfile"><code>Main.SnipsHermesQnD.tryParseJSONfile</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">tryParseJSONfile(fname)</code></pre><p>Parse a JSON file and return a hierarchy of Dicts with the content.</p><ul><li>keys are changed to Symbol</li><li>if error, nothing is returned</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/snips.jl#L84-L91">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.tryParseJSON" href="#Main.SnipsHermesQnD.tryParseJSON"><code>Main.SnipsHermesQnD.tryParseJSON</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">tryParseJSON(text)</code></pre><p>parses a JSON and returns a hierarchy of Dicts{Symbol, Any} and Arrays with the content or a string (text), if text is not a valid JSON string is returned.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/snips.jl#L6-L12">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.tryMkJSON" href="#Main.SnipsHermesQnD.tryMkJSON"><code>Main.SnipsHermesQnD.tryMkJSON</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">tryMkJSON(payload)</code></pre><p>Create a JSON representation of the input (nested Dict or Array) and return an empty string if not possible.</p></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/snips.jl#L65-L70">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Main.SnipsHermesQnD.setGPIO" href="#Main.SnipsHermesQnD.setGPIO"><code>Main.SnipsHermesQnD.setGPIO</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setGPIO(gpio, onoff::Symbol)</code></pre><p>Switch a GPIO on or off.</p><p><strong>Arguments:</strong></p><ul><li>gpio: ID of GPIO (not pinID)</li><li>onoff: one of :on or :off</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/andreasdominik/ADoSnipsTemplate/blob/3abed6073523adb2be66701e69aab4a2762b64a0/SnipsHermesQnD/src/gpio.jl#L9-L17">source</a></section><h2><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h2><ul><li><a href="#Main.SnipsHermesQnD.askYesOrNo"><code>Main.SnipsHermesQnD.askYesOrNo</code></a></li><li><a href="#Main.SnipsHermesQnD.askYesOrNoOrUnknown"><code>Main.SnipsHermesQnD.askYesOrNoOrUnknown</code></a></li><li><a href="#Main.SnipsHermesQnD.configureIntent"><code>Main.SnipsHermesQnD.configureIntent</code></a></li><li><a href="#Main.SnipsHermesQnD.extractSlotValue"><code>Main.SnipsHermesQnD.extractSlotValue</code></a></li><li><a href="#Main.SnipsHermesQnD.getAllConfig"><code>Main.SnipsHermesQnD.getAllConfig</code></a></li><li><a href="#Main.SnipsHermesQnD.getConfig"><code>Main.SnipsHermesQnD.getConfig</code></a></li><li><a href="#Main.SnipsHermesQnD.getSiteId"><code>Main.SnipsHermesQnD.getSiteId</code></a></li><li><a href="#Main.SnipsHermesQnD.isInSlot"><code>Main.SnipsHermesQnD.isInSlot</code></a></li><li><a href="#Main.SnipsHermesQnD.isOnOffMatched"><code>Main.SnipsHermesQnD.isOnOffMatched</code></a></li><li><a href="#Main.SnipsHermesQnD.listenIntentsOneTime"><code>Main.SnipsHermesQnD.listenIntentsOneTime</code></a></li><li><a href="#Main.SnipsHermesQnD.matchConfig"><code>Main.SnipsHermesQnD.matchConfig</code></a></li><li><a href="#Main.SnipsHermesQnD.publishContinueSession"><code>Main.SnipsHermesQnD.publishContinueSession</code></a></li><li><a href="#Main.SnipsHermesQnD.publishEndSession"><code>Main.SnipsHermesQnD.publishEndSession</code></a></li><li><a href="#Main.SnipsHermesQnD.publishMQTT"><code>Main.SnipsHermesQnD.publishMQTT</code></a></li><li><a href="#Main.SnipsHermesQnD.publishSay"><code>Main.SnipsHermesQnD.publishSay</code></a></li><li><a href="#Main.SnipsHermesQnD.publishStartSessionAction"><code>Main.SnipsHermesQnD.publishStartSessionAction</code></a></li><li><a href="#Main.SnipsHermesQnD.publishStartSessionNotification"><code>Main.SnipsHermesQnD.publishStartSessionNotification</code></a></li><li><a href="#Main.SnipsHermesQnD.readConfig"><code>Main.SnipsHermesQnD.readConfig</code></a></li><li><a href="#Main.SnipsHermesQnD.readOneMQTT"><code>Main.SnipsHermesQnD.readOneMQTT</code></a></li><li><a href="#Main.SnipsHermesQnD.setGPIO"><code>Main.SnipsHermesQnD.setGPIO</code></a></li><li><a href="#Main.SnipsHermesQnD.setLanguage"><code>Main.SnipsHermesQnD.setLanguage</code></a></li><li><a href="#Main.SnipsHermesQnD.setSiteId"><code>Main.SnipsHermesQnD.setSiteId</code></a></li><li><a href="#Main.SnipsHermesQnD.subscribe2Intents"><code>Main.SnipsHermesQnD.subscribe2Intents</code></a></li><li><a href="#Main.SnipsHermesQnD.subscribeMQTT"><code>Main.SnipsHermesQnD.subscribeMQTT</code></a></li><li><a href="#Main.SnipsHermesQnD.tryMkJSON"><code>Main.SnipsHermesQnD.tryMkJSON</code></a></li><li><a href="#Main.SnipsHermesQnD.tryParseJSON"><code>Main.SnipsHermesQnD.tryParseJSON</code></a></li><li><a href="#Main.SnipsHermesQnD.tryParseJSONfile"><code>Main.SnipsHermesQnD.tryParseJSONfile</code></a></li><li><a href="#Main.SnipsHermesQnD.tryReadTextfile"><code>Main.SnipsHermesQnD.tryReadTextfile</code></a></li><li><a href="#Main.SnipsHermesQnD.tryrun"><code>Main.SnipsHermesQnD.tryrun</code></a></li></ul><footer><hr/><a class="previous" href="../../makeskill/"><span class="direction">Previous</span><span class="title">New skill tutorial</span></a><a class="next" href="../../LICENSE/"><span class="direction">Next</span><span class="title">License</span></a></footer></article></body></html>
